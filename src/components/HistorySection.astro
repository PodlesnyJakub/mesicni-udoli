---
type HistorySection = { image: string; text: string };
type HistoryData = { heading: string; intro: string; sections: HistorySection[] };
const historyFiles = import.meta.glob('/content/history/index.json', { eager: true, import: 'default' });
const history = Object.values(historyFiles)[0] as HistoryData | undefined;

const imageHeights = ['h-135', 'h-125', 'h-120'];
---

<section id="historie" class="flex flex-col items-center justify-center py-32 bg-brand-bg">
  <div class="flex flex-col gap-18 items-center w-[800px]">

    <h2 class="font-oi font-normal text-[64px] leading-[1.3] tracking-[1.28px] text-brand-heading text-center m-0 w-full">
      {history?.heading ?? 'Historie'}
    </h2>

    {history?.intro && (
      <p class="font-hepta font-medium text-2xl text-white leading-normal w-[640px] m-0">
        {history?.intro}
      </p>
    )}
    

    {history?.sections.map((section, i) => (
      <>
        {section.image && (
          <div class={`rounded-[64px] overflow-hidden shadow-[0px_8px_0px_0px_rgba(0,0,0,0.25)] w-full shrink-0 ${imageHeights[i] ?? 'h-[500px]'}`}>
            <img
              src={section.image}
              alt={`HistorickÃ¡ fotografie ${i + 1}`}
              class="w-full h-full object-cover"
            />
          </div>
        )}
        {section.text && (
          <p class="font-hepta font-medium text-2xl text-white leading-normal w-[640px] m-0">
            {section.text}
          </p>
        )}
      </>
    ))}

  </div>
</section>
